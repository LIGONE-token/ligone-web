<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="google-site-verification" content="YRRh6jvBiPgsqxbRXpFUyRfganm4lP1V1yTXE7MvlhQ" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Gewinnspiel ‚Äì T√§gliche Ziehung um 18:00 (Z√ºrich)</title>
  <meta name="description" content="Jetzt beim Gewinnspiel mitmachen. T√§gliche Ziehung um 18:00 Uhr (Z√ºrich)." />

  <!-- Open Graph -->
  <meta property="og:type" content="website">
<meta property="og:title" content="Gewinnspiel ‚Äì T√§gliche Ziehung 18:00 (Z√ºrich)">
<meta property="og:description" content="Jetzt teilnehmen und t√§glich eine Chance haben.">

<meta property="og:image" content="https://ligone-token.github.io/ligone-web/og/jackpot-40.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">

<meta property="og:url" content="https://ligone-token.github.io/ligone-web/gewinnspiel.html">
<meta name="twitter:card" content="summary_large_image">



  <style>
  :root {
    --bg-base: #fff6df;
    --panel: #ffffff;
    --fg: #1a1a1a;
    --accent: #ffb703;
    --accent-strong: #ff9f1c;
    --muted: #6b6b6b;
    --border: #f1d28a;
  }

  * { box-sizing: border-box; }

  body {
  margin: 0;
  min-height: 100vh;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: #1a1a1a;

  background:
    linear-gradient(
      rgba(255,255,255,0.82),
      rgba(255,255,255,0.82)
    ),
    url("bg-city.jpg") center bottom / cover no-repeat;

  display: flex;
  align-items: center;
  justify-content: center;
}


  .wrap {
    width: min(900px, 92vw);
    padding: 24px;
    text-align: center;
  }

  .brand {
    font-weight: 900;
    letter-spacing: 0.22em;
    font-size: 16px;
    color: #2a2a2a;
    margin-bottom: 18px;
  }

  .jackpot-box {
  background: #ffffff;
  border-radius: 16px;
  padding: 40px 28px;
  margin-bottom: 32px;
  border: 1px solid #e5e5e5;
  box-shadow: 0 8px 20px rgba(0,0,0,0.08);
}




  .jackpot-label {
    font-size: 15px;
    font-weight: 600;
    color: var(--muted);
    margin-bottom: 18px;
  }

  .jackpot {
    font-size: clamp(76px, 12vw, 160px);
    font-weight: 900;
    color: var(--accent-strong);
    letter-spacing: -0.04em;
    line-height: 1;
  }

  .time {
    font-size: 19px;
    font-weight: 600;
    margin-bottom: 38px;
  }

  .cta {
    display: inline-block;
    padding: 20px 50px;
    border-radius: 999px;
    background: linear-gradient(135deg, var(--accent), var(--accent-strong));
    color: #000;
    font-size: 22px;
    font-weight: 800;
    text-decoration: none;
    box-shadow: 0 16px 30px rgba(0,0,0,0.25);
  }
</style>

  <meta property="og:image:type" content="image/png">
</head>

<body>
  <main class="wrap">

    <div class="jackpot-box">
      <div class="jackpot-label">Aktueller Jackpot</div>
<div class="jackpot" id="amount"></div>

<div id="countdown" style="
  margin-top: 20px;
  font-size: 22px;
  font-weight: 700;
  color: #1a1a1a;
">
  ‚è≥ N√§chste Ziehung in: <span id="cd-time">--:--:--</span>
</div>




    </div>

    <div class="time">
      T√§gliche Ziehung um <strong>18:00 Uhr (Z√ºrich)</strong>
    </div>

    <a class="cta" href="teilnahme.html">Jetzt teilnehmen</a>
    <div id="participantCount" style="
  margin-top: 28px;
  font-size: 18px;
  font-weight: 700;
  color: #1a1a1a;
">
  üë• Heute schon <span id="pCount">‚Äì</span> Teilnehmer
</div>
<!-- üîπ Kleine aufklappbare Info-Box am Rand -->
<div id="lig1-info-box" style="
  position: fixed;
  right: 14px;
  bottom: 80px;
  z-index: 9999;
">

  <details>
    <summary style="
      cursor: pointer;
      padding: 8px 12px;
      border-radius: 999px;
      background: #ffffff;
      border: 1px solid #e5e5e5;
      box-shadow: 0 6px 16px rgba(0,0,0,0.12);
      font-size: 13px;
      font-weight: 600;
      list-style: none;
      white-space: nowrap;
    ">
      üìà LIG1
    </summary>

    <div style="
      margin-top: 8px;
      padding: 12px 14px;
      width: 240px;
      background: #ffffff;
      border: 1px solid #e5e5e5;
      border-radius: 12px;
      box-shadow: 0 10px 24px rgba(0,0,0,0.15);
      font-size: 13px;
      line-height: 1.5;
      color: #333;
    ">
      <strong>Warum Teilnahme LIG1 st√§rkt:</strong><br><br>
      ‚Ä¢ Mehr Teilnehmer ‚Üí mehr aktive Wallets<br>
      ‚Ä¢ Mehr Wallets ‚Üí h√∂here Nachfrage<br>
      ‚Ä¢ H√∂here Nachfrage ‚Üí st√§rkere Basis<br><br>

      <span style="color:#666;">
        Keine Garantie, sondern Marktlogik.
      </span>
    </div>
  </details>

</div>


<section id="winner-section" style="margin-top:48px;">
  <h2 style="margin-bottom:16px;">üèÜ Bisherige Gewinner</h2>
  <ul id="winner-list" style="list-style:none; padding:0; margin:0;"></ul>
</section>

<script>
const SUPABASE_URL = "https://hwpeegcsdgxgcybuosfv.supabase.co";
const SUPABASE_ANON_KEY = "sb_publishable_LhuHoUS_DR4o2Pp3aqbNBw_IXwHo2fD";

// --------------------
// Gewinner laden
// --------------------
async function loadWinners() {
  const res = await fetch(
    `${SUPABASE_URL}/rest/v1/draws?select=draw_time,winner_wallet,participant_count&order=draw_time.desc`,
    {
      headers: {
        apikey: SUPABASE_ANON_KEY,
        Authorization: `Bearer ${SUPABASE_ANON_KEY}`
      }
    }
  );

  const data = await res.json();
  const list = document.getElementById("winner-list");
  list.innerHTML = "";

  data.forEach(d => {
    const li = document.createElement("li");
    li.style.background = "#fff";
    li.style.border = "1px solid #e5e5e5";
    li.style.borderRadius = "12px";
    li.style.padding = "14px 16px";
    li.style.marginBottom = "12px";
    li.style.boxShadow = "0 6px 14px rgba(0,0,0,0.08)";

    li.innerHTML = `
      <strong>${d.winner_wallet.slice(0,6)}‚Ä¶${d.winner_wallet.slice(-4)}</strong><br>
      <small>
        Ziehung: ${new Date(d.draw_time).toLocaleString("de-CH")} ¬∑
        Teilnehmer: ${d.participant_count}
      </small>
    `;
    list.appendChild(li);
  });
}

// --------------------
// Teilnehmer z√§hlen
// --------------------
<script>
async function loadParticipantCount() {
  const res = await fetch(
    `${SUPABASE_URL}/rest/v1/participants?select=*&count=exact`,
    {
      headers: {
        apikey: SUPABASE_ANON_KEY,
        Authorization: `Bearer ${SUPABASE_ANON_KEY}`,
        Prefer: "count=exact"
      }
    }
  );

  const count = res.headers.get("content-range")?.split("/")?.[1];
  const el = document.getElementById("pCount");

  if (el) el.textContent = count ?? "‚Äì";
}
</script>


  const data = await res.json();
  const el = document.getElementById("pCount");
  if (el) el.textContent = data.length;
}

// --------------------
// Initial laden
// --------------------
loadWinners();
loadParticipantCount();
setInterval(loadParticipantCount, 30000);
</script>

  </main>
  <script>
fetch('./data/amount.json?ts=' + Date.now())
  .then(r => r.json())
  .then(d => {
    document.getElementById('amount').textContent =
      d.amount.toFixed(2) + ' ‚Ç¨';
  });
</script>
<script>
function nextDrawZurich() {
  const now = new Date();

  // aktuelle Zeit in Z√ºrich
  const nowZurich = new Date(
    now.toLocaleString("en-US", { timeZone: "Europe/Zurich" })
  );

  const draw = new Date(nowZurich);
  draw.setHours(18, 0, 0, 0);

  // wenn 18:00 schon vorbei ‚Üí morgen
  if (nowZurich >= draw) {
    draw.setDate(draw.getDate() + 1);
  }

  return draw;
}

function updateCountdown() {
  const target = nextDrawZurich();
  const now = new Date(
    new Date().toLocaleString("en-US", { timeZone: "Europe/Zurich" })
  );

  const diff = target - now;

  if (diff <= 0) {
    document.getElementById("cd-time").textContent = "gleich";
    return;
  }

  const h = String(Math.floor(diff / 3600000)).padStart(2, "0");
  const m = String(Math.floor((diff % 3600000) / 60000)).padStart(2, "0");
  const s = String(Math.floor((diff % 60000) / 1000)).padStart(2, "0");

  document.getElementById("cd-time").textContent = `${h}:${m}:${s}`;
}

setInterval(updateCountdown, 1000);
updateCountdown();
</script>

</body>
</html>
