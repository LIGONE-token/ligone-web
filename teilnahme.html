<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Teilnahme ‚Äì LIGONE Gewinnspiel</title>
  <meta name="description" content="Teilnahme am LIGONE Gewinnspiel. Teilnahme nur mit LIG1 in der Wallet.">

  <!-- Google Analytics: HIER denselben Code einf√ºgen wie auf ligone-web -->

  <style>
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:#f7f7f7;
      color:#1a1a1a;
      display:flex;
      justify-content:center;
    }
    .container{
      max-width:860px;
      width:94%;
      padding:28px 0 60px;
    }
    h1{margin-top:0;}
    a{color:#0b57d0;text-decoration:none;}
    a:hover{text-decoration:underline;}
    .box{
      background:#fff;
      padding:22px 20px;
      border-radius:12px;
      box-shadow:0 8px 22px rgba(0,0,0,0.08);
      margin-bottom:18px;
    }
    .participation{
      text-align:center;
      margin-top:10px;
    }
    button{
      padding:14px 26px;
      border-radius:10px;
      border:0;
      font-size:16px;
      font-weight:600;
      background:#111;
      color:#fff;
      cursor:pointer;
    }
    button:disabled{
      background:#777;
      cursor:default;
    }
    .status{
      margin-top:12px;
      font-weight:600;
    }
    details{
      margin:12px 0;
      padding:10px 12px;
      border:1px solid #ddd;
      border-radius:8px;
      background:#fafafa;
    }
    summary{
      cursor:pointer;
      font-weight:600;
    }
    pre{
      background:#eee;
      padding:8px;
      border-radius:6px;
      overflow-x:auto;
    }
    .note{
      font-size:13px;
      color:#555;
      margin-top:10px;
    }
    .quicklinks a{
      display:inline-block;
      margin-right:12px;
      margin-top:6px;
      font-weight:600;
    }
  </style>
</head>

<body>
<div class="container">

  <!-- Kopf / Regeln -->
  <div class="box">
    <h1>Teilnahme am Gewinnspiel</h1>

    <p><strong>Teilnahme nur mit LIG1 in der Wallet.</strong><br>
    Zur Teilnahme musst du <strong>genau die Wallet verbinden</strong>, in der dein LIG1 liegt.
    Die <strong>Benachrichtigung im Gewinnfall</strong> erfolgt <strong>direkt an diese Wallet</strong>.</p>

    <p class="note">
      Dieses Anmelde-Prinzip gilt <strong>nur f√ºr dieses Gewinnspiel</strong>.
      Weitere Gewinnspiele werden separat bekannt gegeben.
    </p>

    <!-- Schnelle Links -->
    <div class="quicklinks">
      <strong>Direktlinks:</strong><br>
      <a href="https://app.uniswap.org/#/swap?chain=polygon&outputCurrency=0x92b3677ae2ea7c19aa4fa56936d11be99bcac37d"
         target="_blank" rel="noopener">
        Uniswap (POL ‚Üí LIG1, Polygon)
      </a>
      <a href="https://app.uniswap.org/#/swap?chain=polygon"
         target="_blank" rel="noopener">
        Uniswap √∂ffnen (Polygon)
      </a>
    </div>
  </div>

  <!-- Anleitungen -->
  <div class="box">

    <!-- Mit LIG1 -->
    <details open>
      <summary>Ich habe bereits LIG1</summary>
      <ol>
        <li>Verbinde <strong>genau die Wallet</strong>, in der dein LIG1 liegt.</li>
        <li>Das System pr√ºft automatisch.</li>
        <li>‚úÖ LIG1 gefunden ‚Üí <strong>Teilnahme aktiv</strong>.</li>
      </ol>
      <p class="note"><strong>Wichtig:</strong> Nur diese Wallet kann gewinnen und wird benachrichtigt.</p>
    </details>

    <!-- Wallet, aber kein LIG1 -->
    <details>
      <summary>Ich habe eine Wallet, aber noch kein LIG1</summary>
      <ol>
        <li>In der Wallet <strong>POL kaufen</strong> (empfohlen ab ca. <strong>10&nbsp;$</strong>).</li>
        <li>
          Zu <a href="https://app.uniswap.org/#/swap?chain=polygon&outputCurrency=0x92b3677ae2ea7c19aa4fa56936d11be99bcac37d"
                target="_blank" rel="noopener">
            Uniswap (POL ‚Üí LIG1, Polygon)
          </a> gehen.
        </li>
        <li>Oben <strong>Polygon</strong> ausw√§hlen.</li>
        <li><strong>Wallet verbinden</strong>.</li>
        <li>Bei <strong>SWAP</strong>: oben <strong>POL</strong>, unten <strong>LIG1</strong>.</li>
        <li>Betrag eingeben (ab ca. <strong>1&nbsp;$</strong> m√∂glich).</li>
        <li><strong>Zweimal best√§tigen</strong> und in der Wallet best√§tigen.</li>
        <li>Zur√ºck auf diese Seite ‚Üí <strong>Wallet verbinden</strong> ‚Üí teilnehmen.</li>
      </ol>
    </details>

    <!-- Neulinge -->
    <details>
      <summary>Ich bin neu und habe noch keine Wallet</summary>
      <ol>
        <li>Wallet-App installieren (z. B. <strong>MetaMask</strong>, <strong>Base</strong> von Coinbase,
            <strong>Trust Wallet</strong>, <strong>Binance Wallet (Web3)</strong>).</li>
        <li>Wallet erstellen und die <strong>Sicherheits-W√∂rter</strong> auf Papier notieren.</li>
        <li>LIG1 in der Wallet hinzuf√ºgen (Token importieren) mit dieser Adresse:</li>
      </ol>
      <pre>0x92b3677ae2ea7c19aa4fa56936d11be99bcac37d</pre>
      <ol start="4">
        <li>In der Wallet <strong>POL kaufen</strong> (ab ca. <strong>10&nbsp;$</strong> empfohlen).</li>
        <li>
          Zu <a href="https://app.uniswap.org/#/swap?chain=polygon&outputCurrency=0x92b3677ae2ea7c19aa4fa56936d11be99bcac37d"
                target="_blank" rel="noopener">
            Uniswap (POL ‚Üí LIG1, Polygon)
          </a> gehen.
        </li>
        <li>Oben <strong>Polygon</strong> ausw√§hlen und <strong>Wallet verbinden</strong>.</li>
        <li>POL ‚Üí <strong>LIG1</strong> tauschen (ab ca. <strong>1&nbsp;$</strong> m√∂glich) und best√§tigen.</li>
        <li>Zur√ºck hierher ‚Üí <strong>Wallet verbinden</strong> ‚Üí teilnehmen.</li>
      </ol>
      <p class="note">Hinweis: Bei manchen Anbietern kann es etwas dauern, bis POL in der Wallet ankommt.</p>
    </details>

    <!-- Warnungen -->
    <details>
      <summary>Hinweise zu Warnmeldungen (Honeypot / Preis)</summary>
      <p>Beim Tausch k√∂nnen Warnmeldungen erscheinen. Diese sind bekannt und falsch.</p>
      <p>
        üëâ <a href="HIER_LINK_ZUR_HONEYPOT_KLARSTELLUNG" target="_blank" rel="noopener">
          Offizielle Honeypot-Klarstellung ansehen
        </a>
      </p>
      <p>
        Preis-Hinweise entstehen durch wenig LIG1 im Tauschpool.
        Das ist normal und kein Fehler.
      </p>
    </details>

  </div>

  <!-- Teilnahme -->
  <div class="box participation">
    <button id="connectBtn">Wallet verbinden</button>
    <div id="status" class="status"></div>
  </div>

</div>

<!-- Wallet-Check -->
<script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
<script>
  const LIG1_ADDRESS = "0x92b3677ae2ea7c19aa4fa56936d11be99bcac37d";
  const LIG1_ABI = [
    "function balanceOf(address owner) view returns (uint256)",
    "function decimals() view returns (uint8)"
  ];

  const btn = document.getElementById("connectBtn");
  const statusEl = document.getElementById("status");

  btn.onclick = async () => {
    if (!window.ethereum) {
      statusEl.textContent = "Bitte Wallet-App installieren.";
      return;
    }

    try {
      const provider = new ethers.providers.Web3Provider(window.ethereum);
      await provider.send("eth_requestAccounts", []);
      const network = await provider.getNetwork();

      // Polygon Mainnet
      if (network.chainId !== 137) {
        statusEl.textContent = "Bitte in der Wallet auf Polygon wechseln.";
        return;
      }

      const signer = provider.getSigner();
      const address = await signer.getAddress();
      const contract = new ethers.Contract(LIG1_ADDRESS, LIG1_ABI, provider);

      const bal = await contract.balanceOf(address);
      const dec = await contract.decimals();
      const amount = Number(ethers.utils.formatUnits(bal, dec));

      if (amount > 0) {
        statusEl.textContent = "‚úÖ LIG1 erkannt ‚Äì Teilnahme aktiv. Viel Erfolg!";
        btn.disabled = true;
      } else {
        statusEl.textContent = "‚ùå Kein LIG1 in dieser Wallet ‚Äì keine Teilnahme m√∂glich.";
      }
    } catch (e) {
      statusEl.textContent = "Abgebrochen oder Fehler. Bitte erneut versuchen.";
    }
  };
</script>

</body>
</html>
