<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Teilnahme – LIGONE Gewinnspiel</title>
  <meta name="description" content="Teilnahme am LIGONE Gewinnspiel. Teilnahme nur mit LIG1 in der Wallet.">

  <!-- Google Analytics: HIER denselben Code einfügen wie auf ligone-web -->

  <style>
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:#f7f7f7;
      color:#1a1a1a;
      display:flex;
      justify-content:center;
    }
    .container{
      max-width:860px;
      width:94%;
      padding:28px 0 40px;
    }
    h1{margin-top:0;}
    a{color:#0b57d0;text-decoration:none;}
    a:hover{text-decoration:underline;}
    .box{
      background:#fff;
      padding:22px 20px;
      border-radius:12px;
      box-shadow:0 8px 22px rgba(0,0,0,0.08);
      margin-bottom:18px;
    }
    .participation{
      text-align:center;
      margin-top:10px;
    }
    button{
      padding:14px 26px;
      border-radius:10px;
      border:0;
      font-size:16px;
      font-weight:600;
      background:#111;
      color:#fff;
      cursor:pointer;
    }
    button:disabled{
      background:#777;
      cursor:default;
    }
    .status{
      margin-top:12px;
      font-weight:600;
    }
    details{
      margin:12px 0;
      padding:10px 12px;
      border:1px solid #ddd;
      border-radius:8px;
      background:#fafafa;
    }
    summary{
      cursor:pointer;
      font-weight:600;
    }
    pre{
      background:#eee;
      padding:8px;
      border-radius:6px;
      overflow-x:auto;
    }
    .note{
      font-size:13px;
      color:#555;
      margin-top:10px;
    }
    .quicklinks a{
      display:inline-block;
      margin-right:12px;
      margin-top:6px;
      font-weight:600;
    }
    footer{
      margin-top:28px;
      padding-top:16px;
      border-top:1px solid #ddd;
      font-size:13px;
      color:#555;
      text-align:center;
    }
    footer a{margin:0 6px;}
  </style>
</head>

<body>
<div class="container">

  <!-- Kopf / Regeln -->
  <div class="box">
    <h1>Teilnahme am Gewinnspiel</h1>

    <p><strong>Teilnahme nur mit LIG1 in der Wallet.</strong><br>
    Zur Teilnahme musst du <strong>genau die Wallet verbinden</strong>, in der dein LIG1 liegt.
    Die <strong>Benachrichtigung im Gewinnfall</strong> erfolgt <strong>direkt an diese Wallet</strong>.</p>

    <p class="note">
      <strong>Hinweis:</strong> Nach einem Gewinn wird die Wallet automatisch
      aus der Teilnehmerliste entfernt.
      Für eine weitere Teilnahme muss die Webseite erneut besucht
      und die Wallet neu verbunden werden.
    </p>

    <p class="note">
      Dieses Anmelde-Prinzip gilt <strong>nur für dieses Gewinnspiel</strong>.
      Weitere Gewinnspiele werden separat bekannt gegeben.
    </p>

    <div class="quicklinks">
      <strong>Direktlinks:</strong><br>
      <a href="https://app.uniswap.org/#/swap?chain=polygon&outputCurrency=0x92b3677ae2ea7c19aa4fa56936d11be99bcac37d"
         target="_blank" rel="noopener">
        Uniswap (POL → LIG1, Polygon)
      </a>
      <a href="https://app.uniswap.org/#/swap?chain=polygon"
         target="_blank" rel="noopener">
        Uniswap öffnen (Polygon)
      </a>
    </div>
  </div>

  <!-- Anleitungen -->
  <div class="box">

    <details open>
      <summary>Ich habe bereits LIG1</summary>
      <ol>
        <li>Verbinde <strong>genau die Wallet</strong>, in der dein LIG1 liegt.</li>
        <li>Das System prüft automatisch.</li>
        <li>✅ LIG1 gefunden → <strong>Teilnahme aktiv</strong>.</li>
      </ol>
      <p class="note"><strong>Wichtig:</strong> Nur diese Wallet kann gewinnen und wird benachrichtigt.</p>
    </details>

    <details>
      <summary>Ich habe eine Wallet, aber noch kein LIG1</summary>
      <ol>
        <li>In der Wallet <strong>POL kaufen</strong> (empfohlen ab ca. <strong>10&nbsp;$</strong>).</li>
        <li><strong>Kauf in der Wallet bestätigen</strong>.</li>
        <li>
          Zu <a href="https://app.uniswap.org/#/swap?chain=polygon&outputCurrency=0x92b3677ae2ea7c19aa4fa56936d11be99bcac37d"
                target="_blank" rel="noopener">
            Uniswap (POL → LIG1, Polygon)
          </a> gehen.
        </li>
        <li>Oben <strong>Polygon</strong> auswählen.</li>
        <li><strong>Wallet verbinden</strong>.</li>
        <li>Bei <strong>SWAP</strong>: oben <strong>POL</strong>, unten <strong>LIG1</strong>.</li>
        <li>Betrag eingeben (ab ca. <strong>1&nbsp;$</strong> möglich).</li>
        <li>Auf Uniswap bestätigen und <strong>in der Wallet bestätigen</strong>.</li>
        <li>Zurück auf diese Seite → <strong>Wallet verbinden</strong> → teilnehmen.</li>
      </ol>
    </details>

    <details>
      <summary>Ich bin neu und habe noch keine Wallet</summary>
      <ol>
        <li>Wallet-App installieren (z. B. MetaMask, Base von Coinbase, Trust Wallet, Binance Wallet Web3).</li>
        <li>Wallet erstellen und die <strong>Sicherheits-Wörter</strong> auf Papier notieren.</li>
        <li>LIG1 in der Wallet hinzufügen (Token importieren) mit dieser Adresse:</li>
      </ol>
      <pre>0x92b3677ae2ea7c19aa4fa56936d11be99bcac37d</pre>
      <ol start="4">
        <li>In der Wallet <strong>POL kaufen</strong> (ab ca. <strong>10&nbsp;$</strong> empfohlen).</li>
        <li><strong>Kauf in der Wallet bestätigen</strong>.</li>
        <li>
          Zu <a href="https://app.uniswap.org/#/swap?chain=polygon&outputCurrency=0x92b3677ae2ea7c19aa4fa56936d11be99bcac37d"
                target="_blank" rel="noopener">
            Uniswap (POL → LIG1, Polygon)
          </a> gehen.
        </li>
        <li>Oben <strong>Polygon</strong> auswählen und <strong>Wallet verbinden</strong>.</li>
        <li>POL → <strong>LIG1</strong> tauschen und <strong>in der Wallet bestätigen</strong>.</li>
        <li>Zurück hierher → <strong>Wallet verbinden</strong> → teilnehmen.</li>
      </ol>
    </details>

    <details>
      <summary>Wichtige Hinweise</summary>
      <ul>
        <li><strong>Gewinner müssen sich für jede Auslosung neu anmelden.</strong></li>
        <li><strong>Auszahlungen erfolgen in POL.</strong></li>
        <li>Fragen bitte an <a href="mailto:project@ligone.ch">project@ligone.ch</a></li>
        <li>Das Gewinnspiel darf gern <strong>geteilt</strong> werden.</li>
      </ul>
    </details>

    <details>
      <summary>Kommendes Gewinnspiel (100 Tage Halten)</summary>
      <p>
        <strong>In Kürze startet ein Gewinnspiel</strong> für alle,
        die <strong>LIG1 mindestens 100 Tage lang halten</strong>.
      </p>
      <p>
        Details und Teilnahme-Regeln werden rechtzeitig bekannt gegeben.
      </p>
    </details>

    <details>
      <summary>Affiliate-Programm</summary>
      <p>Wir suchen <strong>Affiliates</strong>, die das Gewinnspiel fair weiterempfehlen möchten.</p>
      <p class="note">
        Der Affiliate-Link wird in Kürze freigeschaltet. Wenn du Affiliate werden willst,
        melde dich kurz bei <a href="mailto:project@ligone.ch">project@ligone.ch</a>.
      </p>
    </details>

  </div>

  <!-- Teilnahme -->
  <div class="box participation">
    <button
  type="button"
  id="connectBtn"
  style="position:relative; z-index:9999;"
>
  Wallet verbinden
</button>

    <div id="status" class="status"></div>
  </div>

  <!-- Footer -->
  <footer>
    Unterstützt von <strong>LIGONE</strong><br>
    <a href="https://ligone-token.github.io/ligone-web/" target="_blank" rel="noopener">ligone-web</a> ·
    <a href="https://ligone-token.github.io/ligone-world/" target="_blank" rel="noopener">ligone-world</a> ·
    <a href="https://ligone.ch" target="_blank" rel="noopener">ligone.ch</a>
  </footer>

</div>

<script>
(async () => {

  const SUPABASE_URL = "https://hwpeegcsdgxgcybuosfv.supabase.co";
  const SUPABASE_KEY = "sb_publishable_LhuHoUS_DR4o2Pp3aqbNBw_IXwHo2fD";
  const supabaseClient = supabase.createClient(
    SUPABASE_URL,
    SUPABASE_KEY
  );

  const provider = await WalletConnectEthereumProvider.init({
    projectId: "ba810ae52d0269e21e52e1efb2f3c5d4",
    chains: [137],
    showQrModal: true
  });

  const btn = document.getElementById("connectBtn");
  const status = document.getElementById("status");

  btn.onclick = async () => {
    try {
      const [wallet] = await provider.enable();
      status.textContent = wallet;

      const { error } = await supabaseClient
        .from("participants")
        .insert({ wallet });

      status.textContent = error
        ? "❌ DB-Fehler"
        : "✅ Teilnahme gespeichert";

    } catch (e) {
      console.error(e);
      status.textContent = "❌ Abgebrochen";
    }
  };

})();
</script>






</body>
</html>
